(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),o=a.n(s),i=a(2),c=a(6),l=a(19),u=a(13),m=a(4),p=a(14),d=a(10),f=a.n(d),E=a(15),g=function(){var e=Object(E.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var b={FILTER_POSTS:"POSTS::FILTER",RESET_POSTS:"POSTS::RESET",SET_DATA_TO_STORE:"POSTS::TO-STORE",ISLOADING_POSTS:"POSTS::ISLOADING",DELETE_POST:"POSTS::DELETE-ITEM",DELETE_COMMENT:"COMMENT::DELETE"},y=function(){return{type:b.ISLOADING_POSTS}},T=function(){return function(e){S.dispatch(y()),Promise.all([g("https://jsonplaceholder.typicode.com/posts"),g("https://jsonplaceholder.typicode.com/users"),g("https://jsonplaceholder.typicode.com/comments")]).then(function(e){var t,a=Object(l.a)(e,3),n=a[0],r=a[1],s=a[2];S.dispatch(function(e,t,a){return{type:b.SET_DATA_TO_STORE,payload:{postsData:e,commentsData:t,users:a}}}((t=r,n.map(function(e){return h({},e,{user:t.find(function(t){return t.id===e.userId})})})),s,r)),S.dispatch(y())})}},_={posts:[],originalPosts:[],comments:[],users:[],isLoading:!1},S=Object(m.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b.FILTER_POSTS:return h({},e,{posts:Object(c.a)(e.originalPosts).filter(function(e){return e.title.includes(t.payload)})});case b.RESET_POSTS:return h({},e,{posts:Object(c.a)(e.originalPosts)});case b.ISLOADING_TODOS:return h({},e,{isLoading:!e.isLoading});case b.SET_DATA_TO_STORE:return h({},e,{posts:t.payload.postsData,originalPosts:t.payload.postsData,comments:t.payload.commentsData,users:t.payload.users});case b.DELETE_POST:return h({},e,{posts:Object(c.a)(e.posts).filter(function(e){return e.id!==t.payload})});case b.DELETE_COMMENT:return h({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})});default:return e}},Object(m.a)(p.a)),v=(a(33),a(16)),P=a(17),j=a(20),N=a(18),D=a(21),I=(a(34),a(35),a(1)),L=a.n(I),w=(L.a.string,L.a.string,L.a.shape({street:L.a.string,suite:L.a.string,city:L.a.string,zipcode:L.a.string,geo:L.a.shape({lat:L.a.string,lng:L.a.string})}),L.a.string,L.a.string,L.a.func,L.a.shape({postId:L.a.number,id:L.a.number,name:L.a.string,email:L.a.string,body:L.a.string})),k=(L.a.arrayOf(L.a.shape(w)),L.a.shape({id:L.a.number,name:L.a.string,username:L.a.string,email:L.a.string,phone:L.a.string,website:L.a.string,adress:L.a.shape({street:L.a.string,suite:L.a.string,city:L.a.string,zipcode:L.a.string,geo:L.a.shape({lat:L.a.string,lng:L.a.string})}),company:L.a.shape({name:L.a.string,catchPhrase:L.a.string,bs:L.a.string})})),x=(L.a.bool,L.a.arrayOf(L.a.shape({userId:L.a.number,id:L.a.number,title:L.a.string,body:L.a.string,user:L.a.shape(k)})),L.a.func,L.a.string,L.a.string,L.a.shape(k),L.a.number,L.a.func,L.a.arrayOf(L.a.shape({userId:L.a.number,id:L.a.number,title:L.a.string,body:L.a.string,user:L.a.shape(k)})),L.a.arrayOf(L.a.shape({userId:L.a.number,id:L.a.number,title:L.a.string,body:L.a.string})),L.a.arrayOf(L.a.shape(k)),L.a.arrayOf(L.a.shape(w)),function(e){var t=e.name,a=e.email,n=e.address;return r.a.createElement("div",null,r.a.createElement("h2",{className:"user__name"},t),r.a.createElement("p",{className:"user__email"},a),r.a.createElement("p",{className:"user__address"},"".concat(n.street,", ").concat(n.street,", ").concat(n.city)))}),R=(a(36),function(e){var t=e.comment,a=e.email,n=e.deleteComment;return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{type:"button",onClick:n,className:"destroy-comment"}),r.a.createElement("p",{className:"comment__email"},a),r.a.createElement("p",{className:"comment__text"},t))}),A=Object(i.b)(null,function(e,t){return{deleteComment:function(){return e((a=t.id,{type:b.DELETE_COMMENT,payload:a}));var a}}})(R),C=(a(37),function(e){var t=e.commentsList;return r.a.createElement("div",{className:"comment-list"},t.map(function(e){return r.a.createElement(A,{comment:e.body,key:e.id,id:e.id,email:e.email})}))}),M=Object(i.b)(function(e,t){return{commentsList:e.comments.filter(function(e){return e.postId===t.id})}})(C),F=(a(38),function(e){var t=e.title,a=e.text,n=e.user,s=e.id,o=e.deletePost;return r.a.createElement("div",{className:"post"},r.a.createElement("button",{type:"button",onClick:o,className:"destroy"}),r.a.createElement(x,{name:n.name,email:n.email,address:n.address}),r.a.createElement("h1",{className:"post__title"},t),r.a.createElement("p",{className:"post__text"},a),r.a.createElement(M,{id:s}))}),G=Object(i.b)(null,function(e,t){return{deletePost:function(){return e((a=t.id,{type:b.DELETE_POST,payload:a}));var a}}})(F),V=(a(39),function(e){var t=e.posts;return r.a.createElement("div",{className:"post-list"},t.map(function(e){var t=e.title,a=e.body,n=e.user,s=e.id;return r.a.createElement(G,{title:t,text:a,user:n,id:s,key:s})}))}),z=Object(i.b)(function(e){return{posts:e.posts}})(V),B=(a(40),function(e){var t=e.posts,a=e.users,n=e.comments;return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Static list of posts"),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"posts: "),t.length),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"comments: "),n.length),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"Users: "),a.length))}),J=Object(i.b)(function(e){return{users:e.users,posts:e.posts,comments:e.comments}})(B),W=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(r)))).state={filterInputValue:""},a.handleInputFilter=function(e){var t=e.target;a.setState({filterInputValue:t.value}),(0,a.props.filterPosts)(t.value)},a}return Object(D.a)(t,e),Object(P.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.originalPosts,n=e.getData,s=this.state.filterInputValue;return t?r.a.createElement("p",{className:"loading-text"},"Posts are loading now..."):0===a.length?r.a.createElement("button",{onClick:n,type:"button",className:"data-button"},"Load all posts"):r.a.createElement("main",null,r.a.createElement(J,null),r.a.createElement("input",{type:"text",onChange:this.handleInputFilter,value:s,className:"filter-input"}),r.a.createElement(z,null))}}]),t}(r.a.Component),U=Object(i.b)(function(e){return{originalPosts:e.originalPosts,isLoading:e.isLoading}},function(e){return{resetPosts:function(){return e({type:b.RESET_POSTS})},getData:function(){return e(T())},filterPosts:function(t){return e(function(e){return{type:b.FILTER_POSTS,payload:e}}(t))}}})(W);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:S},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.a5a278fc.chunk.js.map